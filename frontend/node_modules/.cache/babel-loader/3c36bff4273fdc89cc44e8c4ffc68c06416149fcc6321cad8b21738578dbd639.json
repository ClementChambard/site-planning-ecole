{"ast":null,"code":"import _assertThisInitialized from\"/home/clement/dev/site_test/frontend/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _classCallCheck from\"/home/clement/dev/site_test/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/clement/dev/site_test/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/home/clement/dev/site_test/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/home/clement/dev/site_test/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from'react';import{Link}from'react-router-dom';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Exercise=/*#__PURE__*/function(_Component){_inherits(Exercise,_Component);var _super=_createSuper(Exercise);function Exercise(props){var _this;_classCallCheck(this,Exercise);_this=_super.call(this,props);_this.state={exercise:props.exercise,deleteExercise:props.deleteExercise};return _this;}_createClass(Exercise,[{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:this.state.exercise.username}),/*#__PURE__*/_jsx(\"td\",{children:this.state.exercise.description}),/*#__PURE__*/_jsx(\"td\",{children:this.state.exercise.duration}),/*#__PURE__*/_jsx(\"td\",{children:this.state.exercise.date.substring(0,10)}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/edit/\"+this.state.exercise._id,children:\"edit\"}),\" | \",/*#__PURE__*/_jsx(\"a\",{href:\"#\",onClick:function onClick(){_this2.state.deleteExercise(_this2.state.exercise._id);},children:\"delete\"})]})]});}}]);return Exercise;}(Component);var ExerciseList=/*#__PURE__*/function(_Component2){_inherits(ExerciseList,_Component2);var _super2=_createSuper(ExerciseList);function ExerciseList(props){var _this3;_classCallCheck(this,ExerciseList);_this3=_super2.call(this,props);_this3.deleteExercise=_this3.deleteExercise.bind(_assertThisInitialized(_this3));_this3.exerciseList=_this3.exerciseList.bind(_assertThisInitialized(_this3));_this3.state={exercises:[]};return _this3;}_createClass(ExerciseList,[{key:\"componentDidMount\",value:function componentDidMount(){var _this4=this;axios.get('http://localhost:5000/exercises/').then(function(res){_this4.setState({exercises:res.data});}).catch(function(err){return console.log(err);});}},{key:\"deleteExercise\",value:function deleteExercise(id){axios.delete('http://localhost:5000/exercises/'+id).then(function(res){return console.log(res);});this.setState({exercises:this.state.exercises.filter(function(el){return el._id!==id;})});}},{key:\"exerciseList\",value:function exerciseList(){var _this5=this;var i=0;return this.state.exercises.map(function(currentexercise){i=i+1;return/*#__PURE__*/_jsx(Exercise,{exercise:currentexercise,deleteExercise:_this5.deleteExercise},currentexercise._id);});}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Logged Exercises\"}),/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"thread-light\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Username\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Description\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Duration\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Date\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:this.exerciseList()})]})]});}}]);return ExerciseList;}(Component);export{ExerciseList as default};","map":{"version":3,"names":["React","Component","Link","axios","Exercise","props","state","exercise","deleteExercise","username","description","duration","date","substring","_id","ExerciseList","bind","exerciseList","exercises","get","then","res","setState","data","catch","err","console","log","id","delete","filter","el","i","map","currentexercise"],"sources":["/home/clement/dev/site_test/frontend/src/components/exercise-list.component.js"],"sourcesContent":["import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\n\nclass Exercise extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      exercise: props.exercise,\n      deleteExercise: props.deleteExercise\n    };\n  }\n\n  render() {\n    return (\n      <tr>\n        <td>{this.state.exercise.username}</td>\n        <td>{this.state.exercise.description}</td>\n        <td>{this.state.exercise.duration}</td>\n        <td>{this.state.exercise.date.substring(0,10)}</td>\n        <td>\n          <Link to={\"/edit/\"+this.state.exercise._id}>edit</Link> | <a href=\"#\" onClick={() => {this.state.deleteExercise(this.state.exercise._id)}}>delete</a>\n        </td>\n      </tr>\n\n    );\n  }\n}\n\nexport default class ExerciseList extends Component {\n  constructor(props) {\n    super(props);\n\n    this.deleteExercise = this.deleteExercise.bind(this);\n    this.exerciseList = this.exerciseList.bind(this);\n\n    this.state = {\n      exercises: []\n    };\n  }\n\n  componentDidMount() {\n    axios.get('http://localhost:5000/exercises/')\n         .then(res => {\n           this.setState({ exercises: res.data });\n         })\n         .catch(err => console.log(err));\n  }\n\n  deleteExercise(id) {\n    axios.delete('http://localhost:5000/exercises/' + id)\n         .then(res => console.log(res));\n    this.setState({\n      exercises: this.state.exercises.filter(el => el._id !== id)\n    });\n  }\n\n  exerciseList() {\n    var i = 0;\n    return this.state.exercises.map(currentexercise => {\n      i = i + 1;\n      return <Exercise exercise={currentexercise} deleteExercise={this.deleteExercise} key={currentexercise._id}/>;\n    });\n  }\n\n  render() {\n    return (\n      <div>\n        <h3>Logged Exercises</h3>\n        <table className=\"table\">\n          <thead className=\"thread-light\">\n            <tr>\n              <th>Username</th>\n              <th>Description</th>\n              <th>Duration</th>\n              <th>Date</th>\n              <th>Actions</th>\n            </tr>\n          </thead>\n          <tbody>\n            { this.exerciseList() }\n          </tbody>\n        </table>\n      </div>\n    );\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}