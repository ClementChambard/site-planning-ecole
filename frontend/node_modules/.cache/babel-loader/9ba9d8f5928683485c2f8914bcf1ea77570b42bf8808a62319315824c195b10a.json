{"ast":null,"code":"import _classCallCheck from\"/home/clement/dev/site_test/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/clement/dev/site_test/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"/home/clement/dev/site_test/frontend/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"/home/clement/dev/site_test/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/home/clement/dev/site_test/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from'react';import DatePicker from'react-datepicker';import\"react-datepicker/dist/react-datepicker.css\";import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CreateExercise=/*#__PURE__*/function(_Component){_inherits(CreateExercise,_Component);var _super=_createSuper(CreateExercise);function CreateExercise(props){var _this;_classCallCheck(this,CreateExercise);_this=_super.call(this,props);_this.onChangeUsername=_this.onChangeUsername.bind(_assertThisInitialized(_this));_this.onChangeDescription=_this.onChangeDescription.bind(_assertThisInitialized(_this));_this.onChangeDuration=_this.onChangeDuration.bind(_assertThisInitialized(_this));_this.onChangeDate=_this.onChangeDate.bind(_assertThisInitialized(_this));_this.onSubmit=_this.onSubmit.bind(_assertThisInitialized(_this));_this.state={username:\"\",description:\"\",duration:0,date:new Date(),users:[]};return _this;}_createClass(CreateExercise,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;axios.get(\"http://localhost:5000/users/\").then(function(res){if(res.data.length>0){_this2.setState({users:res.data.map(function(user){return user.username;}),username:res.data[0].username});}});}},{key:\"onChangeUsername\",value:function onChangeUsername(e){this.setState({username:e.target.value});}},{key:\"onChangeDescription\",value:function onChangeDescription(e){this.setState({description:e.target.value});}},{key:\"onChangeDuration\",value:function onChangeDuration(e){this.setState({duration:e.target.value});}},{key:\"onChangeDate\",value:function onChangeDate(date){this.setState({date:date});}},{key:\"onSubmit\",value:function onSubmit(e){e.preventDefault();var exercise={username:this.state.username,description:this.state.description,duration:this.state.duration,date:this.state.date};console.log(exercise);axios.post(\"http://localhost:5000/exercises/add\",exercise).then(function(res){return console.log(res.data);});window.location=\"/\";}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Create New Exercise Log\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:this.onSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Username: \"}),/*#__PURE__*/_jsx(\"select\",{ref:\"userInput\",required:true,className:\"form-control\",value:this.state.username,onChange:this.onChangeUsername,children:this.state.users.map(function(user){return/*#__PURE__*/_jsx(\"option\",{value:user,children:user},user);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Description: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",required:true,className:\"form-control\",value:this.state.description,onChange:this.onChangeDescription})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Duration (in minutes): \"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",value:this.state.duration,onChange:this.onChangeDuration})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Date: \"}),/*#__PURE__*/_jsx(DatePicker,{selected:this.state.date,onChange:this.onChangeDate})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Create Exercise Log\",className:\"btn btn-primary\"})})]})]});}}]);return CreateExercise;}(Component);export{CreateExercise as default};","map":{"version":3,"names":["React","Component","DatePicker","axios","CreateExercise","props","onChangeUsername","bind","onChangeDescription","onChangeDuration","onChangeDate","onSubmit","state","username","description","duration","date","Date","users","get","then","res","data","length","setState","map","user","e","target","value","preventDefault","exercise","console","log","post","window","location"],"sources":["/home/clement/dev/site_test/frontend/src/components/create-exercise.component.js"],"sourcesContent":["import React, { Component } from 'react';\nimport DatePicker from 'react-datepicker';\nimport \"react-datepicker/dist/react-datepicker.css\"\nimport axios from 'axios'\n\nexport default class CreateExercise extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onChangeUsername = this.onChangeUsername.bind(this);\n    this.onChangeDescription = this.onChangeDescription.bind(this);\n    this.onChangeDuration = this.onChangeDuration.bind(this);\n    this.onChangeDate = this.onChangeDate.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n\n    this.state = {\n      username: \"\",\n      description: \"\",\n      duration: 0,\n      date: new Date(),\n      users: []\n    };\n  }\n\n  componentDidMount() {\n    axios.get(\"http://localhost:5000/users/\")\n         .then(res => {\n           if (res.data.length > 0) {\n             this.setState({\n               users: res.data.map(user => user.username),\n               username: res.data[0].username\n             });\n           }\n         });\n  }\n\n  onChangeUsername(e) {\n    this.setState({\n      username: e.target.value\n    });\n  }\n\n  onChangeDescription(e) {\n    this.setState({\n      description: e.target.value\n    });\n  }\n\n  onChangeDuration(e) {\n    this.setState({\n      duration: e.target.value\n    });\n  }\n\n  onChangeDate(date) {\n    this.setState({\n      date: date\n    });\n  }\n\n  onSubmit(e) {\n    e.preventDefault();\n\n    const exercise = {\n      username: this.state.username,\n      description: this.state.description,\n      duration: this.state.duration,\n      date: this.state.date\n    }\n\n    console.log(exercise);\n\n    axios.post(\"http://localhost:5000/exercises/add\", exercise)\n         .then(res => console.log(res.data));\n\n    window.location = \"/\";\n  }\n\n  render() {\n    return (\n      <div>\n        <h3>Create New Exercise Log</h3>\n        <form onSubmit={this.onSubmit}>\n          <div className=\"form-group\">\n            <label>Username: </label>\n            <select ref=\"userInput\"\n              required\n              className=\"form-control\"\n              value={this.state.username}\n              onChange={this.onChangeUsername}>\n              {\n                this.state.users.map(function(user) {\n                  return <option key={user} value={user}>{user}</option>;\n                })\n              }\n            </select>\n          </div>\n          <div className=\"form-group\">\n            <label>Description: </label>\n            <input type=\"text\"\n              required\n              className=\"form-control\"\n              value={this.state.description}\n              onChange={this.onChangeDescription}/>\n          </div>\n          <div className=\"form-group\">\n            <label>Duration (in minutes): </label>\n            <input type=\"text\"\n              className=\"form-control\"\n              value={this.state.duration}\n              onChange={this.onChangeDuration}/>\n          </div>\n          <div className=\"form-group\">\n            <label>Date: </label>\n            <DatePicker\n              selected={this.state.date}\n              onChange={this.onChangeDate}/>\n          </div>\n\n          <div className=\"form-group\">\n            <input type=\"submit\" value=\"Create Exercise Log\" className=\"btn btn-primary\"/>\n          </div>\n        </form>\n      </div>\n    );\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}